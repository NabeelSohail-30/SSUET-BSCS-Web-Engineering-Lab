<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Profile</title>
  </head>
  <style>
    body {
      font-family: "Arial", sans-serif;
      margin: 20px;
      padding: 0;
      background-color: #f2f2f2; /* Updated background color */
    }

    .container {
      width: 80%;
      margin: auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      margin-top: 100px;
    }

    h1 {
      color: #333;
      text-align: center;
    }

    .text {
      width: 80%;
      margin: auto;
      margin-top: 20px;
    }

    p {
      color: #333;
      text-align: center;
    }

    .img {
      width: 100%;
      height: 100%;
      margin: auto;
      display: flex;
    }

    img {
      width: 250px;
      height: 240px;
      border-radius: 8px;
      margin: auto;
    }

    .table-sec {
      width: 50%;
      margin: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th,
    td {
      padding: 10px;
      text-align: left;
      border: 1px solid #ddd;
    }

    th {
      background-color: #f2f2f2;
    }

    div {
      margin-top: 20px;
    }

    .btns {
      display: flex;
      justify-content: center;
    }

    button {
      padding: 10px;
      margin-right: 10px;
      cursor: pointer;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
    }

    #removeAllNew {
      /* New button style */
      padding: 10px;
      margin-right: 10px;
      cursor: pointer;
      background-color: #dc3545; /* Bootstrap danger color */
      color: #fff;
      border: none;
      border-radius: 4px;
    }

    .int-section {
      margin-top: 20px;
    }

    .int-section ul {
      list-style: none;
      padding: 0;
    }

    .int-section ul li {
      margin-bottom: 10px;
    }

    .int-section ul li a {
      text-decoration: none;
      color: #007bff;
      display: inline-block;
    }

    .history-list {
      list-style: none;
      padding: 0;
    }

    .history-list li {
      margin-bottom: 5px;
    }

    .history-list li.lab2 {
      color: #28a745; /* Green color for Lab#2 items */
    }

    .history-list li:not(.lab2) {
      color: #007bff; /* Blue color for other items */
    }

    .profile-link img {
      border: none;
      text-decoration: none;
    }
  </style>
  <body>
    <div class="container">
      <h1>Student Profile</h1>
      <div class="img">
        <img
          src="https://static8.depositphotos.com/1008303/880/i/450/depositphotos_8803246-stock-photo-asian-college-student.jpg"
          alt="Student Image"
        />
      </div>
      <div class="text">
        <p>
          Lorem ipsum dolor, sit amet consectetur adipisicing elit. Numquam
          velit error minima dicta odio unde quibusdam facere at inventore
          voluptate, molestias voluptatum vel explicabo reiciendis quia
          adipisci! Quas, rem quibusdam!
        </p>
      </div>
      <div class="table-sec">
        <table border="1">
          <thead>
            <tr>
              <th>Course ID</th>
              <th>Course Name</th>
              <th>Credit Hours</th>
              <th>Year Taken</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>101</td>
              <td>Introduction to Programming</td>
              <td>3</td>
              <td>2022</td>
            </tr>
            <tr>
              <td>201</td>
              <td>Data Structures</td>
              <td>4</td>
              <td>2023</td>
            </tr>
            <tr>
              <td>301</td>
              <td>Web Development</td>
              <td>3</td>
              <td>2023</td>
            </tr>
            <tr>
              <td>401</td>
              <td>Database Management</td>
              <td>3</td>
              <td>2024</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="btns">
        <button onclick="searchAndHighlight()">Search and Highlight</button>
        <button id="addCourse">Add New Course</button>
        <button id="updateCourse">Update Course</button>
        <button id="removeCourse">Remove Course</button>
        <button id="removeAllNew" onclick="removeAllNewCourses()">
          Remove All New
        </button>
      </div>
      <div class="int-section">
        <h2>Interests</h2>
        <ul>
          <li>
            <a href="https://www.ssuet.edu.pk/" class="profile-link"
              ><img src="path/to/image1.png" alt="SSUET University Home"
            /></a>
          </li>
          <li>
            <a href="https://www.ssuet.edu.pk/Home/Students/ScholarshipNotice"
              >SSUET University Home -> Students -> Scholarship Notice</a
            >
          </li>
          <li>
            <a href="https://www.ssuet.edu.pk/Home/NewsEvents/EventsCalendar"
              >SSUET University Home -> News and Events -> Events Calendar</a
            >
          </li>
        </ul>
      </div>
      <div class="history-section">
        <h2>History</h2>
        <ul class="history-list">
          <!-- Add dynamically generated history items here -->
        </ul>
      </div>
    </div>
  </body>
  <script>
    function searchAndHighlight() {
      var userInput = prompt("Enter course ID to search:");
      var table = document.querySelector("table");
      var rows = table.querySelectorAll("tr");

      for (var i = 1; i < rows.length; i++) {
        // Start from 1 to skip the header row
        var cells = rows[i].querySelectorAll("td");
        var courseId = cells[0].textContent;

        if (courseId === userInput) {
          rows[i].style.backgroundColor = "yellow"; // Highlight the matching row
          return;
        }
      }

      alert("Course not found!");
    }

    document.getElementById("addCourse").addEventListener("click", function () {
      var tableBody = document.querySelector("table tbody");
      var newRow = tableBody.insertRow();
      for (var i = 0; i < 4; i++) {
        var cell = newRow.insertCell(i);
        cell.textContent = "New Value";
      }
    });

    document
      .getElementById("updateCourse")
      .addEventListener("click", function () {
        var selectedRow = document.querySelector("table tbody tr");
        if (selectedRow) {
          var cells = selectedRow.cells;
          for (var i = 0; i < cells.length; i++) {
            cells[i].textContent = "Updated Value";
          }
        }
      });

    document
      .getElementById("removeCourse")
      .addEventListener("click", function () {
        var selectedRow = document.querySelector("table tbody tr");
        if (selectedRow) {
          selectedRow.remove();
        }
      });

    function removeAllNewCourses() {
      var newRows = document.querySelectorAll("table tbody tr");
      newRows.forEach(function (row) {
        row.remove();
      });
    }

    // Retrieve and display student name if cookie is present
    var studentName = getCookie("studentName");
    if (studentName) {
      document.body.style.backgroundColor = "#b3ffb3"; // Light green background
      displayStudentName(studentName);
    } else {
      document.body.style.backgroundColor = "#f2f2f2"; // Light gray background
    }

    function getCookie(cookieName) {
      var name = cookieName + "=";
      var decodedCookie = decodeURIComponent(document.cookie);
      var cookieArray = decodedCookie.split(";");

      for (var i = 0; i < cookieArray.length; i++) {
        var cookie = cookieArray[i];
        while (cookie.charAt(0) === " ") {
          cookie = cookie.substring(1);
        }
        if (cookie.indexOf(name) === 0) {
          return cookie.substring(name.length, cookie.length);
        }
      }
      return "";
    }

    function displayStudentName(name) {
      var nameElement = document.createElement("div");
      nameElement.textContent = "Welcome, " + name;
      nameElement.style.float = "right";
      document.body.appendChild(nameElement);
    }

    // Get and display browsing history using window.history API
    var historyList = document.querySelector(".history-list");
    var historyItems = [];

    for (var i = 0; i < window.history.length; i++) {
      historyItems.push(window.history[i]);
    }

    historyItems.forEach(function (item) {
      var listItem = document.createElement("li");
      listItem.textContent = item;

      if (item.includes("Lab#2")) {
        listItem.classList.add("lab2");
      }

      historyList.appendChild(listItem);
    });

    // Style all Student Profile page links
    var profileLinks = document.querySelectorAll(".int-section a.profile-link");
    profileLinks.forEach(function (link) {
      link.style.textDecoration = "none";
    });
  </script>
</html>
